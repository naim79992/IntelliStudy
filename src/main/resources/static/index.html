<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IntelliStudy - Home</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Custom CSS -->
<link rel="stylesheet" href="css/style.css">
<style>
</style>
</head>
<body>

<!-- Full-width Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary text-white fixed-top" style="height:80px;">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">IntelliStudy</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="summarize.html">Summarize</a></li>
        <li class="nav-item"><a class="nav-link" href="translate.html">Translate</a></li>
        <li class="nav-item"><a class="nav-link" href="quiz.html">Quiz by Topic</a></li>
        <li class="nav-item"><a class="nav-link" href="quiz-text.html">Quiz from Text</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container my-5 text-center">
    <!-- Image -->
    <img src="images/img.jpg" alt="IntelliStudy Banner" class="img-fluid d-block mx-auto mb-4" style="max-height:200px;">

    <!-- Header -->
    <h2 class="section-header">Ask IntelliStudy a Question</h2>

    <!-- Instructions -->
    <h3 class="text-content mb-3">Type your question below and let IntelliStudy AI provide an answer instantly.</h3>

    <!-- Input -->
    <textarea id="askInput" class="form-control mb-3" rows="4" placeholder="Type your question..."></textarea>

    <!-- Button -->
    <button class="btn btn-primary" onclick="callAsk()">Ask</button>

    <!-- Response -->
    <pre class="mt-3" id="askOutput"></pre>
</div>

<footer class="bg-primary text-white py-3 mt-5">
  <div class="container-fluid text-center"><p class="mb-0">Â© 2025 IntelliStudy</p></div>
</footer>

<script>
const BASE_URL = "/api/gemini";

// Function to call backend API
async function callAsk() {
    const input = document.getElementById("askInput").value;
    if(!input.trim()) {
        alert("Please type a question!");
        return;
    }

    try {
        const res = await fetch(`${BASE_URL}/ask`, {
            method: "POST",
            headers: {"Content-Type": "text/plain"},
            body: input
        });
        const data = await res.text();
        document.getElementById("askOutput").textContent = data;
    } catch (err) {
        console.error("Error calling API:", err);
        document.getElementById("askOutput").textContent = "Failed to get response. Please try again.";
    }
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
